<!-- app/templates/partials/assignments_table.html -->
<table style="width:100%; border-collapse:separate; border-spacing:0;">
  <thead>
    <tr>
      <th style="text-align:left; padding:10px 12px;">Role</th>
      <th style="text-align:left; padding:10px 12px;">Location</th>
      <th style="text-align:left; padding:10px 12px;">Start</th>
      <th style="text-align:left; padding:10px 12px;">End</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% for a in assignments %}
      <tr style="border-top:1px solid #eee;">
        <td style="padding:10px 12px;">{{ a.role_label }} — {{ a.role_code }}</td>
        <td style="padding:10px 12px;">{{ a.location_code }}</td>
        <td style="padding:10px 12px;">{{ a.effective_start }}</td>
        <td style="padding:10px 12px;">{{ a.effective_end or '—' }}</td>
        <td style="padding:10px 12px; text-align:right;">
          {% if not a.effective_end %}
            <form hx-post="/admin/staff/{{ s_id }}/assign/{{ a.id }}/end"
                  hx-target="#assignments" hx-swap="innerHTML" style="display:inline;">
              <input type="date" name="end_date" required />
              <button class="btn small warn" type="submit">End</button>
            </form>
          {% endif %}
        </td>
      </tr>
    {% endfor %}
    {% if assignments|length == 0 %}
      <tr><td colspan="5" style="padding:12px;">No assignments.</td></tr>
    {% endif %}
  </tbody>
</table>
